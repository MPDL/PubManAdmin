<div *ngIf="!isNewIndex; else new_index">
<p>
  details for {{index_name}}!
</p>
<pre>{{settings | json}}</pre>
<pre>{{mapping | json}}</pre>
</div>
<ng-template #new_index>
    <p>
        details for new index
      </p>
    <form class="list-group-item text-primary" name="form" (ngSubmit)="f.valid && save()" #f="ngForm" novalidate>
        <div class="form-group row w-100">
          <label for="index-name" class="col-2 col-form-label col-form-label-sm">name</label>
          <div class="col-10">
            <input class="form-control form-control-sm" type="text" name="name" [(ngModel)]="index_name" id="index-name" required minlength="4" value-not-allowed="new" #name="ngModel">
            <div *ngIf="name.invalid && (name.dirty || name.touched)" class="text-danger">
              <div *ngIf="name.errors.required">
                name is required.
              </div>
              <div *ngIf="name.errors.minlength">
                name must be at least 4 characters long.
              </div>
              <div *ngIf="name.errors.value-not-allowed">
                name MUST NOT be new.
              </div>
            </div>
          </div>
        </div>
        <div class="form-group row w-100">
          <label for="index-settings" class="col-2 col-form-label col-form-label-sm">settings</label>
          <div class="col-10">
            <select id="index-settings" class="select form-control form-control-sm" [(ngModel)]="selectedSettings" (ngModelChange)="onChangeSettings($event)"
              name="selectedSettings" #settings="ngModel">
              <option [ngValue]="setting" *ngFor="let setting of settings2selectFrom">{{setting}}</option>
            </select>
          </div>
        </div>
        <div class="form-group row w-100">
            <label for="index-mappings" class="col-2 col-form-label col-form-label-sm">mappings</label>
            <div class="col-10">
              <select id="index-mappings" class="select form-control form-control-sm" [(ngModel)]="selectedMappings" (ngModelChange)="onChangeMappings($event)"
                name="selectedMappings" #mappings="ngModel">
                <option [ngValue]="mapping" *ngFor="let mapping of mappings2selectFrom">{{mapping}}</option>
              </select>
            </div>
          </div>
          <div class="form-group row w-100">
              <div class="col-2"></div>
              <div class="col-3">
                <input type="button" class="btn btn-outline-primary btn-sm" name="cancel" value="cancel" (click)="gotoList()" />
                <input type="button" class="btn btn-outline-primary btn-sm" name="save" value="save" (click)="save()" />
              </div>
            </div>
    </form>
    <pre>{{f.value | json}}</pre>
</ng-template>
