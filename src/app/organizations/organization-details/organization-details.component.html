<div class="container" *ngIf="selected">
  <div class="card card-inverse card-info text-right">
    <div class="card-block">
      <h4 class="card-title">{{selected.defaultMetadata.name}}</h4>
    </div>
      <form class="list-group-item text-info" name="form" (ngSubmit)="f.form.valid && save()" #f="ngForm" novalidate>
        <div class="form-group row w-100">
          <label for="selected-ou-id" class="col-2 col-form-label col-form-label-sm">ouid</label>
          <div class="col-3">
            <input class="form-control form-control-sm" type="text" name="ouid" [(ngModel)]="selected.reference.objectId" id="selected-ou-id"
              [readonly]="!isNewOrganization">
          </div>
          <label for="selected-parent-id" class="col-1 col-form-label col-form-label-sm">parentid</label>
          <div class="col-3">
            <input *ngIf="selected.parentAffiliations.length > 0; else other_content" class="form-control form-control-sm" type="text"
              name="parentid" [(ngModel)]="selected.parentAffiliations[0].objectId" id="selected-parent-id">
            <ng-template #other_content><input class="form-control form-control-sm" type="text" readonly></ng-template>
          </div>
          <label for="selected-creator-id" class="col-1 col-form-label col-form-label-sm">creator</label>
          <div class="col-2">
            <input class="form-control form-control-sm" type="text" name="creator" [(ngModel)]="selected.creator.objectId" id="selected-creator-id"
              readonly>
          </div>
        </div>
        <div class="form-group row w-100">
          <label for="selected-state" class="col-2 col-form-label col-form-label-sm">state</label>
          <div class="col-6">
            <input class="form-control form-control-sm" type="text" name="state" [(ngModel)]="selected.publicStatus" id="selected-state"
              readonly>
          </div>
          <div class="col-4">
            <input type="button" class="btn btn-outline-info btn-sm float-right" (click)="openClose(selected)" name="openClose" [value]="selected.publicStatus === 'OPENED' ? 'close' : 'open'"
            />
          </div>
        </div>
        <div class="form-group row w-100">
          <label for="selected-ou-type" class="col-2 col-form-label col-form-label-sm">type</label>
          <div class="col-4">
            <input class="form-control form-control-sm" type="text" name="type" [(ngModel)]="selected.defaultMetadata.type" id="selected-ou-type"
              [readonly]="!isNewOrganization">
          </div>
          <label for="selected-start-date" class="col-1 col-form-label col-form-label-sm">start</label>
          <div class="col-2">
            <input class="form-control form-control-sm" type="text" name="start" [(ngModel)]="selected.defaultMetadata.startDate" id="selected-start-date">
          </div>
          <label for="selected-end-date" class="col-1 col-form-label col-form-label-sm">end</label>
          <div class="col-2">
            <input class="form-control form-control-sm" type="text" name="end" [(ngModel)]="selected.defaultMetadata.endDate" id="selected-end-date">
          </div>
        </div>
        <div class="form-group row w-100">
          <label for="selected-name" class="col-2 col-form-label col-form-label-sm">name</label>
          <div class="col-10">
            <input class="form-control form-control-sm" type="text" name="ou-name" [(ngModel)]="selected.defaultMetadata.name" id="selected-name">
          </div>
        </div>
        <div class="form-group row w-100">
          <label for="selected-city" class="col-2 col-form-label col-form-label-sm">address</label>
          <div class="col-7">
            <input class="form-control form-control-sm" type="text" name="address" [(ngModel)]="selected.defaultMetadata.city" id="selected-city">
          </div>
          <label for="selected-country" class="col-1 col-form-label col-form-label-sm">country</label>
          <div class="col-2">
            <input class="form-control form-control-sm" type="text" name="country" [(ngModel)]="selected.defaultMetadata.countryCode"
              id="selected-city">
          </div>
        </div>
        <div class="form-group row w-100">
          <label for="alternativeNames" class="col-2 col-form-label col-form-label-sm">alernative names</label>
          <div class="col-10 text-right">
            <div class="form-group row">

              <div class="col-5">
                <input class="form-control form-control-sm" type="text" name="altName" [(ngModel)]="alternativeName" id="alternativeNames">
              </div>
              <div class="col-1 justify-content-start">
                <input type="button" class="btn btn-outline-info btn-sm m-1" name="addNames" value=">>" (click)="addName(alternativeName)"
                />
                <input type="button" class="btn btn-outline-info btn-sm m-1" data-toggle="tooltip" data-placement="top" title="REMOVE ALL!"
                  name="clearNames" value="<<" (click)="clearNames()" />
              </div>
              <div class="col-6">
                <ul class="list-group">
                  <div silver="lightskyblue" class="list-group-item list-group-item-info p-0" *ngFor="let name of selected.defaultMetadata.alternativeNames"
                    [class.selected]="isSelected(name)">
                    <span class="col-11"><label class="col-form-label-sm">{{name}}</label></span>
                    <span class="col-1"> <input type="submit" class="btn btn-outline-info btn-sm float-right" (click)="deleteName(name); $event.stopPropagation()"
                                name="deleteName" value="x" /></span>
                  </div>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group row w-100">
          <label for="descriptions" class="col-2 col-form-label col-form-label-sm">descriptions</label>
          <div class="col-10 text-right">
            <div class="form-group row">
              <div class="col-10">
                <textarea class="form-control form-control-sm" type="text" name="descs" [(ngModel)]="description" id="descriptions"></textarea>
              </div>
              <div class="col-2 justify-content-start">
                <input type="button" class="btn btn-outline-info btn-sm m-1" name="addDescs" value=">>" (click)="addDesc(description)" />
                <input type="button" class="btn btn-outline-info btn-sm m-1" data-toggle="tooltip" data-placement="top" title="REMOVE ALL!"
                  name="clearDescs" value="<<" (click)="clearDescs()" />
              </div>
            </div>
          </div>
        </div>
        <div class="form-group row w-100">
          <div class="col-10 offset-2 text-right">
            <div class="form-group row">
              <div class="col-12">
                <ul class="list-group">
                  <div silver="lightskyblue" class="list-group-item list-group-item-info p-0" *ngFor="let desc of selected.defaultMetadata.descriptions"
                    [class.selected]="isSelected(desc)">
                    <span class="col-11"><label class="col-form-label-sm">{{desc}}</label></span>
                    <span class="col-1"><input type="submit" class="btn btn-outline-info btn-sm float-right" (click)="deleteDesc(desc); $event.stopPropagation()"
                                name="deleteDesc" value="x" /></span>
                  </div>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group row w-100">
          <label for="ouIdentifiers" class="col-2 col-form-label col-form-label-sm">identifiers</label>
          <div class="col-10 text-right">
            <div class="form-group row">
              <div class="col-5">
                <input class="form-control form-control-sm" type="text" name="ouIdentifierId" [(ngModel)]="ouIdentifierId" id="ouIdentifiers">
              </div>
              <div class="col-1 justify-content-start">
                <input type="button" class="btn btn-outline-info btn-sm m-1" name="addIdentifiers" value=">>" (click)="addIdentifier(ouIdentifierId)"
                />
                <input type="button" class="btn btn-outline-info btn-sm m-1" data-toggle="tooltip" data-placement="top" title="REMOVE ALL!"
                  name="clearIdentifiers" value="<<" (click)="clearIdentifiers()" />
              </div>
              <div class="col-6">
                <ul class="list-group">
                  <div silver="lightskyblue" class="list-group-item list-group-item-info p-0" *ngFor="let id of selected.defaultMetadata.identifiers"
                    [class.selected]="isSelected(id)">
                    <span class="col-11"><label class="col-form-label-sm">{{id.id}}</label></span>
                    <span class="col-1"> <input type="submit" class="btn btn-outline-info btn-sm float-right" (click)="deleteIdentifier(id); $event.stopPropagation()"
                                name="deleteIdentifier" value="x" /></span>
                  </div>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="selected.hasChildren === true" class="form-group row w-100">
          <label for="childrenTable" class="col-2 col-form-label col-form-label-sm">children</label>
          <div class="col-10 text-right">
            <div *ngIf="selected.hasChildren === true" class="form-group row">
              <div class="col-12">
                <ul class="list-group">
                  <div silver="lightskyblue" class="list-group-item list-group-item-info p-0" *ngFor="let child of children" (click)="showDetails(child.reference.objectId)">
                    <span class="col-3"><label class="col-form-label-sm">{{child.reference.objectId}}</label></span>
                    <span class="col-2"><label class="col-form-label-sm">{{child.publicStatus}}</label></span>
                    <span class="col-7"><label class="col-form-label-sm">{{child.defaultMetadata.name}}</label></span>
                  </div>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="selected.hasPredecessors === true" class="form-group row w-100">
          <label for="predecessorsTable" class="col-2 col-form-label col-form-label-sm">predecessors</label>
          <div class="col-10 text-right">
            <div *ngIf="selected.hasPredecessors === true" class="form-group row">
              <div class="col-12">
                <ul class="list-group">
                  <div silver="lightskyblue" class="list-group-item list-group-item-info p-0" *ngFor="let predecessor of predecessors" (click)="showDetails(predecessor.reference.objectId)">
                    <span class="col-3"><label class="col-form-label-sm">{{predecessor.reference.objectId}}</label></span>
                    <span class="col-2"><label class="col-form-label-sm">{{predecessor.publicStatus}}</label></span>
                    <span class="col-7"><label class="col-form-label-sm">{{predecessor.defaultMetadata.name}}</label></span>
                  </div>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group row w-100">
          <div class="col-2 offset-10">
            <input type="button" class="btn btn-outline-info btn-sm" name="cancel" value="cancel" (click)="gotoList()" />
            <input type="button" class="btn btn-outline-info btn-sm" name="save" value="save" (click)="save(selected)" />
            <input *ngIf="selected.publicStatus === 'CREATED'" type="button" class="btn btn-outline-info btn-sm" name="delete" value="delete"
              (click)="delete(selected)" />
          </div>
        </div>
      </form>
  </div>
</div>