<div class="container" *ngIf="selected">
  <div class="card card-inverse card-info text-right">
    <div class="card-block">
      <h4 class="card-title">{{selected.defaultMetadata.name}}</h4>
    </div>
    <div class="list-group-item text-info">

      <form name="form" (ngSubmit)="f.form.valid && save()" #f="ngForm" novalidate>

        <div class="form-group row">
          <label for="selected-ou-id" class="col-2 col-form-label col-form-label-sm">ouid</label>
          <div class="col-3">
            <input class="form-control form-control-sm" type="text" name="ouid" [(ngModel)]="selected.reference.objectId" id="selected-ou-id"
              [readonly]="!isNewOrganization">
          </div>
          <label for="selected-parent-id" class="col-1 col-form-label col-form-label-sm">parentid</label>
          <div class="col-3">
            <input *ngIf="selected.parentAffiliations.length > 0; else other_content" class="form-control form-control-sm" type="text" name="parentid" [(ngModel)]="selected.parentAffiliations[0].objectId"
              id="selected-parent-id">
              <ng-template #other_content><input class="form-control form-control-sm" type="text" readonly></ng-template>
          </div>
          <label for="selected-creator-id" class="col-1 col-form-label col-form-label-sm">creator</label>
          <div class="col-2">
            <input class="form-control form-control-sm" type="text" name="creator" [(ngModel)]="selected.creator.objectId" id="selected-creator-id"
              readonly>
          </div>
        </div>

        <div class="form-group row">
          <label for="selected-state" class="col-2 col-form-label col-form-label-sm">state</label>
          <div class="col-6">
            <input class="form-control form-control-sm" type="text" name="state" [(ngModel)]="selected.publicStatus" id="selected-state"
              readonly>
          </div>
          <div class="col-4">
            <input type="button" class="btn btn-outline-info btn-sm float-right" (click)="openClose(selected)" name="openClose" [value]="selected.publicStatus === 'OPENED' ? 'close' : 'open'"
            />
          </div>
        </div>
        <div class="form-group row">
          <label for="selected-ou-type" class="col-2 col-form-label col-form-label-sm">type</label>
          <div class="col-4">
            <input class="form-control form-control-sm" type="text" name="type" [(ngModel)]="selected.defaultMetadata.type" id="selected-ou-type"
              [readonly]="!isNewOrganization">
          </div>
          <label for="selected-start-date" class="col-1 col-form-label col-form-label-sm">start</label>
          <div class="col-2">
            <input class="form-control form-control-sm" type="text" name="start" [(ngModel)]="selected.defaultMetadata.startDate"
              id="selected-start-date">
          </div>
          <label for="selected-end-date" class="col-1 col-form-label col-form-label-sm">end</label>
          <div class="col-2">
            <input class="form-control form-control-sm" type="text" name="end" [(ngModel)]="selected.defaultMetadata.endDate" id="selected-end-date">
          </div>
        </div>
        <div class="form-group row">
          <label for="selected-name" class="col-2 col-form-label col-form-label-sm">name</label>
          <div class="col-10">
            <input class="form-control form-control-sm" type="text" name="ou-name" [(ngModel)]="selected.defaultMetadata.name" id="selected-name">
          </div>
        </div>
        <!--
        <div class="form-group row">
          <label for="selected-alt-name" class="col-2 col-form-label col-form-label-sm">alternative name(s)</label>
          <div class="col-10">
            <input class="form-control form-control-sm" type="text" name="ou-alt-name" [(ngModel)]="selected.defaultMetadata.alternativeNames"
              id="selected-alt-name">
          </div>
        </div>
        -->
        <div class="form-group row w-100">
        <label for="alternativeNames" class="col-2 col-form-label col-form-label-sm">alernative names</label>
        <div class="col-10 text-right">
          <div class="form-group row">
            <div class="col-5">
              <input class="form-control form-control-sm" type="text" name="altName" [(ngModel)]="alternativeName" id="alternativeNames">
            </div>
            <div class="col-1 justify-content-start">
              <input type="button" class="btn btn-outline-info btn-sm m-1" name="addNames" value=">>" (click)="addName(alternativeName)"
              />
              <input type="button" class="btn btn-outline-info btn-sm m-1" data-toggle="tooltip" data-placement="top" title="REMOVE ALL!"
                name="clearNames" value="<<" (click)="clearNames()" />
            </div>
            <div class="col-6">
              <ul class="list-group">
                <div silver="lightskyblue" class="list-group-item list-group-item-info p-0" *ngFor="let name of selected.defaultMetadata.alternativeNames" [class.selected]="isSelected(name)">
                  <span class="col-sm-11">{{name}}</span>
                  <span class="col-sm-1"> <input type="submit" class="btn btn-outline-info btn-sm float-right" (click)="deleteName(name); $event.stopPropagation()"
                                name="deleteName" value="x" /></span>
                </div>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!--
        <div class="form-group row">
          <label for="selected-desc" class="col-2 col-form-label col-form-label-sm">description</label>
          <div class="col-10">
            <textarea class="form-control form-control-sm" type="text" name="desc" [(ngModel)]="selected.defaultMetadata.descriptions" id="selected-desc"></textarea>
          </div>
        </div>
        -->
         <div class="form-group row w-100">
        <label for="descriptions" class="col-2 col-form-label col-form-label-sm">descriptions</label>
        <div class="col-10 text-right">
          <div class="form-group row">
            <div class="col-5">
              <input class="form-control form-control-sm" type="text" name="descs" [(ngModel)]="description" id="descriptions">
            </div>
            <div class="col-1 justify-content-start">
              <input type="button" class="btn btn-outline-info btn-sm m-1" name="addDescs" value=">>" (click)="addDesc(description)"
              />
              <input type="button" class="btn btn-outline-info btn-sm m-1" data-toggle="tooltip" data-placement="top" title="REMOVE ALL!"
                name="clearDescs" value="<<" (click)="clearDescs()" />
            </div>
            <div class="col-6">
              <ul class="list-group">
                <div silver="lightskyblue" class="list-group-item list-group-item-info p-0" *ngFor="let desc of selected.defaultMetadata.descriptions" [class.selected]="isSelected(desc)">
                  <span class="col-sm-11">{{desc}}</span>
                  <span class="col-sm-1"> <input type="submit" class="btn btn-outline-info btn-sm float-right" (click)="deleteDesc(desc); $event.stopPropagation()"
                                name="deleteDesc" value="x" /></span>
                </div>
              </ul>
            </div>
          </div>
        </div>
      </div>
        <div class="form-group row">
          <label for="selected-city" class="col-2 col-form-label col-form-label-sm">address</label>
          <div class="col-10">
            <input class="form-control form-control-sm" type="text" name="address" [(ngModel)]="selected.defaultMetadata.city" id="selected-city">
          </div>
        </div>
        <div *ngIf="selected.hasChildren === true" class="form-group row">
          <label for="childrenTable" class="col-2 col-form-label col-form-label-sm">children</label>
        </div>
        <div *ngIf="selected.hasChildren === true" class="form-group row no-gutters">
          <div class="col-10 offset-2">
            <table class="table table-hover table-sm">
              <tbody id="childrenTable">
                <tr class="list-group-item row p-0" *ngFor="let child of children" (click)="showDetails(child.reference.objectId)">
                  <th class="col-3 p-0" scope="row"><label class="col-form-label-sm">{{child.reference.objectId}}</label></th>
                  <th class="col-2 p-0" scope="row"><label class="col-form-label-sm">{{child.publicStatus}}</label></th>
                  <td class="col-7 p-0"><label class="col-form-label-sm">{{child.defaultMetadata.name}}</label></td>
                  <!--
                  <td class="col-1 p-0 text-right"><input type="button" class="btn btn-outline-info btn-sm" (click)="deleteChild(child); $event.stopPropagation()"
                      name="deleteChild" value="x" /></td>
                      -->
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div *ngIf="selected.hasPredecessors === true" class="form-group row">
          <label for="predecessorsTable" class="col-2 col-form-label col-form-label-sm">predecessors</label>
        </div>
        <div *ngIf="selected.hasPredecessors === true" class="form-group row">
          <div class="col-10 offset-2">
            <table class="table table-hover table-sm">
              <tbody id="predecessorsTable">
                <tr class="list-group-item row p-0" *ngFor="let predecessor of predecessors" (click)="showDetails(predecessor.reference.objectId)">
                  <th class="col-3 p-0" scope="row"><label class="col-form-label-sm">{{predecessor.reference.objectId}}</label></th>
                  <th class="col-2 p-0" scope="row"><label class="col-form-label-sm">{{predecessor.publicStatus}}</label></th>
                  <td class="col-7 p-0"><label class="col-form-label-sm">{{predecessor.defaultMetadata.name}}</label></td>
                  <!--
                  <td class="col-1 p-0 text-right"><input type="button" class="btn btn-outline-info btn-sm" (click)="deleteChild(predecessor); $event.stopPropagation()"
                      name="deletePredecessor" value="x" /></td>
                      -->
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-2 offset-10">
            <input type="button" class="btn btn-outline-info btn-sm" name="cancel" value="cancel" (click)="gotoList()" />
            <input type="button" class="btn btn-outline-info btn-sm" name="save" value="save" (click)="save(selected)" />
            <input *ngIf="selected.publicStatus === 'CREATED'" type="button" class="btn btn-outline-info btn-sm" name="delete" value="delete" (click)="delete(selected)" />
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<pre>{{selected | json}}</pre>